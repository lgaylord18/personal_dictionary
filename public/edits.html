<!DOCTYPE html>
<html>
    <head>
        <title>Edits</title>
        <meta name="description" content="">
        <meta name="keywords" content="">
        <meta charset="utf-8">
        <meta name="author" content="Roman Kirichik">
        <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
        
        <!-- Favicons -->
        <link rel="shortcut icon" href="images/favicon.png">

        <!-- CSS -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/style-responsive.css">
        <link rel="stylesheet" href="css/animate.min.css">  
        <link rel="stylesheet" href="css/vertical-rhythm.min.css">
        
    </head>
    <body class="appear-animate">
        
        <!-- Page Loader -->        
        <div class="page-loader">
            <div class="loader">Loading...</div>
        </div>
        <!-- End Page Loader -->
        
        <!-- Page Wrap -->
        <div class="page" id="top">
            
            <!-- Navigation panel -->
            <nav class="main-nav dark js-stick">
                <div class="full-wrapper relative clearfix">
                    <div class="mobile-nav">
                        <i class="fa fa-bars"></i>
                    </div>
                    
                    <!-- Main Menu -->
                    <div class="inner-nav desktop-nav">
                        <ul class="clearlist scroll-nav local-scroll">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="view.html">View</a></li>
                            <li class="active"><a href="edits.html">Edit</a></li>
                        </ul>
                    </div>
                    <!-- End Main Menu -->
                </div>
            </nav>
            <!-- End Navigation panel -->            
            
            
            <!-- Section -->
            <section class="page-section">
                <div class="container relative">
                    
                    <!-- Nav Tabs -->
                    <div class="align-center mb-40 mb-xxs-30">
                        <ul class="nav nav-tabs tpl-minimal-tabs">
                            
                            <li class="active">
                                <a href="#mini-one" data-toggle="tab">Add</a>
                            </li>
                            
                            <li>
                                <a href="#mini-two" data-toggle="tab">Condense</a>
                            </li>
                            
                        </ul>
                    </div>
                    <!-- End Nav Tabs -->
                    
                    <!-- Tab panes -->
                    <div class="tab-content tpl-minimal-tabs-cont section-text">
                        
                        <div class="tab-pane fade in active" id="mini-one">
                            
                            <!-- Login Form -->                            
                            <div class="row">
                                <div class="col-md-4 col-md-offset-4">
                                    
                                    <form class="form contact-form" id="word_add_form">
                                        <div class="clearfix">
                                            
                                            <!-- Word -->
                                            <div class="form-group">
                                                <input type="text" id="add_word" class="input-md round form-control" placeholder="Word" pattern=".{3,100}" required>
                                            </div>

                                            <!-- Type -->
                                            <div class="form-group">
                                                <input type="text" id="add_type" class="input-md round form-control" placeholder="Type" pattern=".{3,100}" required>
                                            </div>

                                            
                                            <!-- Definition -->
                                            <div class="form-group">
                                                <input type="text" id="add_definition" class="input-md round form-control" placeholder="Definition" pattern=".{5,100}" required>
                                            </div> 
                                        </div>
                                        
                                        <div class="pt-10">
                                            <button class="submit_btn btn btn-mod btn-medium btn-round btn-full" id="reg-btn">Add</button>
                                        </div>
                                    </form>
                                    <script>
                                        document.getElementById('word_add_form').addEventListener('submit', async (e) => {
                                                e.preventDefault();
                                                const add_word = document.getElementById('add_word').value;
                                                const add_type = document.getElementById('add_type').value;
                                                const add_ definition = document.getElementById('add_definition').value;
                                                const add_res = await fetch('/.netlify/functions/add_to_dictionary', {
                                                method: 'POST',
                                                headers: { 'Content-Type': 'application/json' },
                                                body: JSON.stringify({ word, definition })
                                            });
                                        const add_data = await add_res.json();
                                        alert(add_data.message || add_data.error);
                                    });
                                    </script>
                                </div>
                            </div>
                            <!-- End Add Form -->
                            
                        </div>
                        
                        <div class="tab-pane fade" id="mini-two">
                            
                            <!-- Registry Form -->                            
                            <div class="row">
                                <div class="col-md-4 col-md-offset-4">
                                    
                                    <form class="form contact-form" id="word_condense_form">
                                        <div class="clearfix">
                                            
                                            <!-- Email -->
                                            <div class="form-group">
                                                <input type="text" id="cond_word_1" class="input-md round form-control" placeholder="Word" pattern=".{3,100}" required>
                                            </div>
                                            
                                            <!-- Username -->
                                            <div class="form-group">
                                                <input type="text" id="cond_word_2" class="input-md round form-control" placeholder="Word" pattern=".{3,100}" required>
                                            </div>
                                            
                                            <!-- Password -->
                                            <div class="form-group">
                                                <input type="text" id="cond_type" class="input-md round form-control" placeholder="Type" pattern=".{5,100}" required>
                                            </div>
                                            
                                            <!-- Re-enter Password -->
                                            <div class="form-group">
                                                <input type="text" id="cond_definition" class="input-md round form-control" placeholder="Definition" pattern=".{5,100}" required>
                                            </div>
                                                
                                        </div>
                                        
                                        <!-- Send Button -->
                                        <div class="pt-10">
                                            <button class="submit_btn btn btn-mod btn-medium btn-round btn-full" id="reg-btn">Condense</button>
                                        </div>
                                        
                                    </form>
                                    <script>
                                        document.getElementById('word_condense_form').addEventListener('submit', async (e) => {
                                                e.preventDefault();
                                                const cond_word_1 = document.getElementById('cond_word_1').value;
                                                const cond_word_2 = document.getElementById('cond_word_2').value;
                                                const cond_ype = document.getElementById('cond_type').value;
                                                const cond_definition = document.getElementById('cond_definition').value;
                                                const cond_res = await fetch('/.netlify/functions/condense_in_dictionary', {
                                                method: 'POST',
                                                headers: { 'Content-Type': 'application/json' },
                                                body: JSON.stringify({ word, definition })
                                            });
                                        const cond_data = await cond_res.json();
                                        alert(cond_data.message || cond_data.error);
                                    });
                                    </script>
                                </div>
                            </div>
                            <!-- End Registry Form -->
                        </div>
                    </div>     
                </div>
            </section>
            <!-- End Section -->
        
        
        </div>
        <!-- End Page Wrap -->
        
        
        <!-- JS -->
        <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
        <script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
        <script type="text/javascript" src="js/bootstrap.min.js"></script>        
        <script type="text/javascript" src="js/SmoothScroll.js"></script>
        <script type="text/javascript" src="js/jquery.scrollTo.min.js"></script>
        <script type="text/javascript" src="js/jquery.localScroll.min.js"></script>
        <script type="text/javascript" src="js/jquery.viewport.mini.js"></script>
        <script type="text/javascript" src="js/jquery.sticky.js"></script>
        <script type="text/javascript" src="js/jquery.parallax-1.1.3.js"></script>
        <script type="text/javascript" src="js/imagesloaded.pkgd.min.js"></script>
        <script type="text/javascript" src="js/jquery.simple-text-rotator.min.js"></script>
        <script type="text/javascript" src="js/all.js"></script>
        
    </body>
</html>
